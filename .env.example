# TelemetryFlow MCP Server Environment Variables
# Copy this file to .env and fill in your values

# =============================================================================
# CLAUDE API (Required)
# =============================================================================
# Your Anthropic API key
ANTHROPIC_API_KEY=your-anthropic-api-key-here

# Alternative environment variable name (both are supported)
# TFO_MCP_CLAUDE_API_KEY=your-api-key-here

# Claude API base URL (optional, defaults to https://api.anthropic.com)
# TFO_MCP_CLAUDE_BASE_URL=https://api.anthropic.com

# Default model to use (optional)
# TFO_MCP_CLAUDE_DEFAULT_MODEL=claude-sonnet-4-20250514

# =============================================================================
# TELEMETRYFLOW OBSERVABILITY (TFO SDK)
# =============================================================================
# Your TelemetryFlow API key for observability (logs, metrics, traces)
TFO_API_KEY=your-telemetryflow-api-key-here

# TelemetryFlow API endpoint (default: https://api.telemetryflow.io)
TFO_ENDPOINT=https://api.telemetryflow.io

# Service identification
TFO_SERVICE_NAME=telemetryflow-mcp
TFO_SERVICE_VERSION=1.1.2

# Environment (development, staging, production)
TFO_ENVIRONMENT=development

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
# Server host (default: localhost)
TFO_MCP_SERVER_HOST=localhost

# Server port (default: 8080)
TFO_MCP_SERVER_PORT=8080

# Transport type: stdio, sse, websocket (default: stdio)
TFO_MCP_SERVER_TRANSPORT=stdio

# Debug mode (default: false)
TFO_MCP_DEBUG=false

# =============================================================================
# LOGGING
# =============================================================================
# Log level: debug, info, warn, error (default: info)
TFO_MCP_LOG_LEVEL=info

# Log format: json, text (default: json)
TFO_MCP_LOG_FORMAT=json

# =============================================================================
# REDIS (Caching & Queue)
# =============================================================================
# Redis connection URL
TFO_MCP_REDIS_URL=redis://localhost:6379

# Enable caching (default: true)
TFO_MCP_CACHE_ENABLED=true

# Cache TTL in seconds (default: 300)
TFO_MCP_CACHE_TTL=300

# Enable queue processing (default: true)
TFO_MCP_QUEUE_ENABLED=true

# Queue concurrency (default: 5)
TFO_MCP_QUEUE_CONCURRENCY=5

# =============================================================================
# DATABASE (PostgreSQL)
# =============================================================================
# PostgreSQL connection URL
TFO_MCP_POSTGRES_URL=postgres://postgres:postgres@localhost:5432/tfo_mcp?sslmode=disable

# Connection pool settings
TFO_MCP_POSTGRES_MAX_CONNS=25
TFO_MCP_POSTGRES_MIN_CONNS=5

# =============================================================================
# ANALYTICS DATABASE (ClickHouse)
# =============================================================================
# ClickHouse connection URL
TFO_MCP_CLICKHOUSE_URL=clickhouse://localhost:9000/tfo_mcp

# =============================================================================
# OPENTELEMETRY (Fallback if TFO SDK not configured)
# =============================================================================
# Enable telemetry (default: true)
TFO_MCP_TELEMETRY_ENABLED=true

# OTLP endpoint for traces/metrics
OTEL_EXPORTER_OTLP_ENDPOINT=localhost:4317

# Service name (standard OTEL env var)
OTEL_SERVICE_NAME=telemetryflow-mcp

# =============================================================================
# SECURITY
# =============================================================================
# Require API key for requests
# TFO_MCP_SECURITY_REQUIRE_API_KEY=false

# Rate limit per minute
# TFO_MCP_SECURITY_RATE_LIMIT_PER_MINUTE=100

# =============================================================================
# DOCKER COMPOSE SPECIFIC
# =============================================================================
# MCP Server version
TFO_MCP_VERSION=1.1.2

# Database ports (for docker-compose)
REDIS_PORT=6379
POSTGRES_PORT=5432
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=tfo_mcp
CLICKHOUSE_HTTP_PORT=8123
CLICKHOUSE_NATIVE_PORT=9000
CLICKHOUSE_DB=tfo_mcp
CLICKHOUSE_USER=default
CLICKHOUSE_PASSWORD=

# Observability ports (for docker-compose with observability profile)
OTEL_GRPC_PORT=4317
OTEL_HTTP_PORT=4318
JAEGER_UI_PORT=16686
PROMETHEUS_PORT=9090
GRAFANA_PORT=3000
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin
